(this.webpackJsonpimgsns=this.webpackJsonpimgsns||[]).push([[0],{64:function(e,n,t){"use strict";t.r(n);var r,a=t(7),c=t.n(a),i=t(46),o=t.n(i),s=t(11),l=t(19),u=t(16),p=t(47),b=Object(u.a)(r||(r=Object(l.a)(["\n","\n* {\n  box-sizing: border-box;\n}\n\ninput {\n  all: unset;\n  box-sizing: border-box;\n  appearance: none;\n}\n\nbody {\n   background-color: black; \n  \n  font-size: 14px;\n  font-family: 'Noto Sans KR', sans-serif;\n   color: white; \n}\n\nbutton {\n  background-color: white;\n  color: black;\n}\n\na {\n  text-decoration: none;\n  color: inherit;\n}\n\nform {\n  width: 100%;\n}\n\n.nweet-input::placeholder {\n  color: white;\n  opacity: 0.9;\n}\n\n.container {\n  width: 100%;\n  max-width: 320px;\n  display: flex;\n  flex-direction: column;\n}\n\n.formInput {\n  width: 100%;\n  padding: 10px 20px;\n  border-radius: 20px;\n  border: 1px solid black;\n  text-align: center;\n  background-color: white;\n  color: black;\n}\n\n.formBtn {\n  cursor: pointer;\n  width: 100%;\n  padding: 7px 20px;\n  text-align: center;\n  color: white;\n  border-radius: 20px;\n  background-color: #04aaff;\n  cursor: pointer;\n}\n\n.cancelBtn {\n  cursor: pointer;\n  background-color: tomato;\n}\n\n\n\n/* Nwitter Factory */\n\n.factoryForm {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n}\n\n.factoryInput__container {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  position: relative;\n  margin-bottom: 20px;\n  width: 100%;\n}\n\n.factoryInput__input {\n  flex-grow: 1;\n  height: 40px;\n  padding: 0px 20px;\n  /* color: white; */\n  border: 1px solid #04aaff;\n  border-radius: 20px;\n  font-weight: 500;\n  font-size: 12px;\n}\n\n.factoryInput__arrow {\n  position: absolute;\n  right: 0;\n  background-color: #04aaff;\n  height: 40px;\n  width: 40px;\n  padding: 10px 0px;\n  text-align: center;\n  border-radius: 20px;\n  color: white;\n}\n\n.factoryInput__label {\n  color: #04aaff;\n  cursor: pointer;\n}\n\n.factoryInput__label span {\n  margin-right: 10px;\n  font-size: 12px;\n}\n\n.factoryForm__attachment {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.factoryForm__attachment img {\n  height: 100%;\n  width: 100%;\n  border-radius: 5px;\n  margin-bottom:10px;\n}\n\n.factoryForm__clear {\n  color: #04aaff;\n  cursor: pointer;\n  text-align: center;\n  margin-bottom:20px;\n}\n\n.factoryForm__clear span {\n  margin-right: 10px;\n  font-size: 12px;\n}\n\n/* Nweet */\n\n.nweetEdit .formBtn {\n  cursor: pointer;\n  margin-top: 15px;\n  margin-bottom: 5px;\n}\n\n/* .nweet {\n  margin-bottom: 20px;\n  background-color: white;\n  width: 100%;\n  max-width: 320px;\n  padding: 20px;\n  border-radius: 10px;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  color: rgba(0, 0, 0, 0.8);\n}\n\n.nweet h4 {\n  font-size: 14px;\n} */\n\n.tweetImg {\n  border-radius: 5px;\n  width: 100%;\n  height: 100%;\n  margin-top: 10px;\n}\n.profileImg {\n  border-radius: 50%;\n  width: 40px;\n  height: 40px;\n  margin-top: 10px;\n}\n\n.nweet__actions {\n  position: absolute;\n  right: 10px;\n  top: 19px;\n}\n\n.nweet__actions span {\n  cursor: pointer;\n}\n\n.nweet__actions span:first-child {\n  margin-right: 10px;\n}\n\n\n\n/* AuthForm */\n\n.authInput {\n  max-width: 320px;\n  width: 100%;\n  padding: 10px;\n  border-radius: 30px;\n  background-color: rgba(255, 255, 255, 1);\n  margin-bottom: 10px;\n  font-size: 12px;\n  color: black;\n}\n\n.authSubmit {\n  text-align: center;\n  background: #04aaff;\n  color: white;\n  margin-top: 10;\n\nlhk3337 on 30 Sep\nmargin-top: 10px;\n\n  cursor: pointer;\n}\n\n.authError {\n  color: tomato;\n  text-align: center;\n  font-weight: 500;\n  font-size: 12px;\n}\n\n.authSwitch {\n  color: #04aaff;\n  cursor: pointer;\n  margin-top: 10px;\n  margin-bottom: 50px;\n  display: block;\n  font-size: 12px;\n  text-decoration: underline;\n}\n"])),p.a),d=t(32),j=t(12),x=t(51),f=t(52),m=t(27),h=t(17),O=t(29);Object(f.a)({apiKey:"AIzaSyBbVos3JPRr5352RbEEpfK606TE93ssaUI",authDomain:"imgtweet-ee8c1.firebaseapp.com",projectId:"imgtweet-ee8c1",storageBucket:"imgtweet-ee8c1.appspot.com",messagingSenderId:"918212744363",appId:"1:918212744363:web:b31e588ceae528bfac93ee"});var g,w,y,v,k,N,I,_,S,F,z,U=Object(m.c)(),R=Object(h.f)(),C=Object(O.c)(),L=t(0),A=t.n(L),B=t(2),E=t(21),D=t(26),P=t(6),T=u.c.div(g||(g=Object(l.a)(["\n  margin-bottom: 20px;\n  background-color: white;\n  width: 100%;\n  max-width: 320px;\n  padding: 20px;\n  border-radius: 10px;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  color: rgba(0, 0, 0, 0.8);\n  h4 {\n    font-size: 14px;\n    span {\n      margin-left: 5px;\n    }\n  }\n  .profile {\n    display: flex;\n    align-items: flex-start;\n    img {\n      border-radius: 50%;\n      width: 40px;\n      height: 40px;\n    }\n  }\n  .text {\n    display: flex;\n    flex-direction: column;\n    margin-left: 10px;\n  }\n"]))),q=function(e){var n=e.userObj,t=e.isOwner,r=Object(a.useState)(!1),c=Object(s.a)(r,2),i=c[0],o=c[1],l=Object(a.useState)(n.text),u=Object(s.a)(l,2),p=u[0],b=u[1];console.log(n);var d=function(){var e=Object(B.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){e.next=5;break}return e.next=3,Object(h.c)(Object(h.d)(R,"tweets/".concat(n.id)));case 3:return e.next=5,Object(O.a)(Object(O.d)(C,n.fileURL));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(B.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Object(h.j)(Object(h.d)(R,"tweets/".concat(n.id)),{text:p});case 3:o(!1);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),x=function(){return o((function(e){return!e}))};return Object(P.jsx)(T,{children:i?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("form",{onSubmit:j,className:"container nweetEdit",children:[Object(P.jsx)("input",{type:"text",placeholder:"\ubb38\uad6c \uc785\ub825...",value:p,required:!0,autoFocus:!0,onChange:function(e){var n=e.target.value;b(n)},className:"formInput"}),Object(P.jsx)("input",{type:"submit",value:"\uc644\ub8cc",className:"formBtn"})]}),Object(P.jsx)("button",{onClick:x,className:"formBtn cancelBtn",children:"\ucde8\uc18c"})]}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{className:"profile",children:[n.profilePhoto?Object(P.jsx)("img",{src:n.profilePhoto,alt:n.nickName}):Object(P.jsx)(E.a,{icon:D.f,size:"3x"}),Object(P.jsxs)("div",{className:"text",children:[Object(P.jsxs)("h4",{style:{fontSize:"15px",fontWeight:"bold"},children:[n.nickName,Object(P.jsxs)("span",{style:{color:"gray",fontWeight:"300"},children:["@",n.email]})]}),Object(P.jsx)("h4",{style:{paddingTop:"10px"},children:n.text})]})]}),n.fileURL&&Object(P.jsx)("img",{src:n.fileURL,alt:n.fileURL,className:"tweetImg"}),t&&Object(P.jsxs)("div",{className:"nweet__actions",children:[Object(P.jsx)("span",{onClick:d,children:Object(P.jsx)(E.a,{icon:D.d})}),Object(P.jsx)("span",{onClick:x,children:Object(P.jsx)(E.a,{icon:D.a})})]})]})})},J=t(66),K=u.c.form(w||(w=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n"]))),W=u.c.div(y||(y=Object(l.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  position: relative;\n  margin-bottom: 20px;\n  width: 100%;\n"]))),G=u.c.input(v||(v=Object(l.a)(["\n  flex-grow: 1;\n  height: 40px;\n  padding: 0px 20px;\n  /* color: white; */\n  border: 1px solid #04aaff;\n  border-radius: 20px;\n  font-weight: 500;\n  font-size: 12px;\n"]))),M=u.c.input(k||(k=Object(l.a)(["\n  position: absolute;\n  right: 0;\n  background-color: #04aaff;\n  height: 40px;\n  width: 40px;\n  padding: 10px 0px;\n  text-align: center;\n  border-radius: 20px;\n  color: white;\n"]))),V=function(e){var n=e.userObj,t=Object(a.useState)(""),r=Object(s.a)(t,2),c=r[0],i=r[1],o=Object(a.useState)(""),l=Object(s.a)(o,2),u=l[0],p=l[1],b=function(){var e=Object(B.a)(A.a.mark((function e(t){var r,a,o,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==c){e.next=2;break}return e.abrupt("return");case 2:if(t.preventDefault(),r="",""===u){e.next=12;break}return a=Object(O.d)(C,"".concat(n.uid,"/").concat(Object(J.a)())),e.next=8,Object(O.e)(a,u,"data_url");case 8:return o=e.sent,e.next=11,Object(O.b)(o.ref);case 11:r=e.sent;case 12:return s={text:c,createdAt:Date.now(),creatorId:n.uid,nickName:n.displayName,profilePhoto:n.photoURL,email:n.email,fileURL:r},e.next=15,Object(h.a)(Object(h.b)(R,"tweets"),s);case 15:i(""),p("");case 17:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(K,{onSubmit:b,children:[Object(P.jsxs)(W,{children:[Object(P.jsx)(G,{value:c,onChange:function(e){var n=e.target.value;i(n)},type:"text",placeholder:"\ubb34\uc2a8 \uc77c\uc774 \uc77c\uc5b4\ub098\uace0 \uc788\ub098\uc694?",maxLength:120}),Object(P.jsx)(M,{type:"submit",value:"\ud2b8\uc717"})]}),Object(P.jsxs)("label",{htmlFor:"attach-file",style:{color:"#04aaff",cursor:"pointer"},children:[Object(P.jsx)("span",{style:{marginRight:"10px",fontSize:"12px"},children:"Add photos"}),Object(P.jsx)(E.a,{icon:D.b})]}),Object(P.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){var n=e.target.files[0],t=new FileReader;t.onloadend=function(e){var n=e.currentTarget.result;p(n)},t.readAsDataURL(n)},id:"attach-file",style:{opacity:0}}),u&&Object(P.jsxs)("div",{className:"factoryForm__attachment",children:[Object(P.jsx)("img",{src:u,alt:u,style:{backgroundImage:u}}),Object(P.jsxs)("div",{className:"factoryForm__clear",onClick:function(){return p("")},children:[Object(P.jsx)("span",{children:"\ucde8\uc18c"}),Object(P.jsx)(E.a,{icon:D.c})]})]})]})})},H=function(e){var n=e.userObj,t=Object(a.useState)([]),r=Object(s.a)(t,2),c=r[0],i=r[1];return Object(a.useEffect)((function(){var e=Object(h.i)(Object(h.b)(R,"tweets"),Object(h.h)("createdAt","desc"));Object(h.g)(e,(function(e){var n=e.docs.map((function(e){return Object(x.a)({id:e.id},e.data())}));i(n)}))}),[]),Object(P.jsxs)("div",{className:"container",children:[Object(P.jsx)(V,{userObj:n}),Object(P.jsx)("div",{children:c.map((function(e){return Object(P.jsx)(q,{userObj:e,isOwner:e.creatorId===n.uid},e.id)}))})]})},Q=function(){var e=Object(a.useState)(""),n=Object(s.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(""),i=Object(s.a)(c,2),o=i[0],l=i[1],u=Object(a.useState)(!0),p=Object(s.a)(u,2),b=p[0],d=p[1],j=Object(a.useState)(""),x=Object(s.a)(j,2),f=x[0],h=x[1],O=function(e){var n=e.target,t=n.name,a=n.value;"email"===t?r(a):"password"===t&&l(a)},g=function(){var e=Object(B.a)(A.a.mark((function e(n){var r,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),e.prev=1,!b){e.next=9;break}return e.next=5,Object(m.b)(U,t,o);case 5:r=e.sent,console.log("\uc0c8\uacc4\uc815",r),e.next=13;break;case 9:return e.next=11,Object(m.d)(U,t,o);case 11:a=e.sent,console.log("\ud5cc\uacc4\uc815",a);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),h(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(n){return e.apply(this,arguments)}}();return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("form",{onSubmit:g,className:"container",children:[Object(P.jsx)("input",{name:"email",type:"text",placeholder:"Email",required:!0,value:t,onChange:O,className:"authInput"}),Object(P.jsx)("input",{name:"password",type:"password",placeholder:"Password",required:!0,value:o,onChange:O,className:"authInput"}),Object(P.jsx)("input",{type:"submit",className:"authInput authSubmit",value:b?"Create Account":"Sign In"}),f&&Object(P.jsx)("span",{className:"authError",children:f})]}),Object(P.jsx)("span",{onClick:function(){return d((function(e){return!e}))},className:"authSwitch",children:b?"Sign In":"Create Account"})]})},X=t(35),Y=u.c.div(N||(N=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  justify-content: center;\n  align-items: center;\n  width: 320px;\n"]))),Z=u.c.div(I||(I=Object(l.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n"]))),$=u.c.button(_||(_=Object(l.a)(["\n  cursor: pointer;\n  border-radius: 20px;\n  border: none;\n  padding: 10px 0px;\n  font-size: 12px;\n  text-align: center;\n  width: 100%;\n  background: white;\n  cursor: pointer;\n"]))),ee=function(){var e=function(){var e=Object(B.a)(A.a.mark((function e(n){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.target.name,t=new m.a,e.next=5,Object(m.e)(U,t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(P.jsxs)(Y,{children:[Object(P.jsx)(E.a,{icon:X.b,color:"#04AAFF",size:"3x",style:{marginBottom:30}}),Object(P.jsx)(Q,{}),Object(P.jsx)(Z,{children:Object(P.jsxs)($,{name:"google",onClick:e,children:["Continue with Google ",Object(P.jsx)(E.a,{icon:X.a})]})})]})},ne=function(e){var n=e.userObj,t=Object(a.useState)([]),r=Object(s.a)(t,2),c=r[0],i=r[1],o=Object(a.useCallback)(Object(B.a)(A.a.mark((function e(){var t,r,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(h.i)(Object(h.b)(R,"tweets"),Object(h.k)("creatorId","==",n.uid),Object(h.h)("createdAt","desc")),e.next=3,Object(h.e)(t);case 3:r=e.sent,a=r.docs.map((function(e){return e.data()})),i(a);case 6:case"end":return e.stop()}}),e)}))),[n]);return Object(a.useEffect)((function(){o()}),[o]),Object(P.jsx)("div",{children:c.map((function(e,t){return Object(P.jsx)(q,{userObj:e,isOwner:e.creatorId===n.uid},t)}))})},te=u.c.form(S||(S=Object(l.a)(["\n  padding-bottom: 30px;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n"]))),re=u.c.div(F||(F=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  p {\n    margin-top: 10px;\n  }\n"]))),ae=function(e){var n=e.userObj,t=e.refreshUser,r=Object(a.useState)(n.displayName),c=Object(s.a)(r,2),i=c[0],o=c[1],l=Object(a.useState)(""),u=Object(s.a)(l,2),p=u[0],b=u[1],d=Object(j.f)();console.log(n),console.log(p);var x=function(){var e=Object(B.a)(A.a.mark((function e(r){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),a=U.currentUser,n.displayName===i){e.next=7;break}return e.next=5,Object(m.f)(a,{displayName:i});case 5:e.next=10;break;case 7:if(n.photoURL===p){e.next=10;break}return e.next=10,Object(m.f)(a,{photoURL:p});case 10:t();case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(P.jsxs)("div",{className:"container",children:[Object(P.jsxs)(te,{onSubmit:x,children:[p?Object(P.jsxs)("div",{className:"factoryForm__attachment",children:[Object(P.jsx)("img",{src:p,alt:n.displayName,style:{backgroundImage:p}}),Object(P.jsxs)("div",{className:"factoryForm__clear",onClick:function(){return b("")},children:[Object(P.jsx)("span",{children:"\ucde8\uc18c"}),Object(P.jsx)(E.a,{icon:D.c})]})]}):Object(P.jsxs)(re,{children:[n.photoURL?Object(P.jsx)("img",{src:n.photoURL,alt:n.displayName,className:"profileImg"}):Object(P.jsx)(E.a,{icon:D.f,size:"3x"}),Object(P.jsx)("p",{children:n.displayName})]}),Object(P.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){var n=e.target.files[0],t=new FileReader;t.onloadend=function(e){var n=e.currentTarget.result;b(n)},t.readAsDataURL(n)},id:"attach-file",style:{opacity:0}}),Object(P.jsx)("input",{onChange:function(e){var n=e.target.value;o(n)},type:"text",value:i,autoFocus:!0,className:"formInput"}),Object(P.jsx)("input",{type:"submit",value:"\uc218\uc815",className:"formBtn",style:{marginTop:10}}),Object(P.jsx)("span",{className:"formBtn cancelBtn",onClick:function(){U.signOut(),d("/")},style:{marginTop:10},children:"\ub85c\uadf8\uc544\uc6c3"})]}),Object(P.jsx)(ne,{userObj:n})]})},ce=function(e){e.userObj;return Object(P.jsx)("nav",{className:"container",children:Object(P.jsxs)("ul",{style:{display:"flex",justifyContent:"space-between",marginTop:50,marginBottom:20,alignItems:"center",width:"54%"},children:[Object(P.jsx)("li",{children:Object(P.jsx)(d.b,{to:"/profile",style:{marginLeft:10,display:"flex",flexDirection:"column",alignItems:"center",fontSize:12},children:Object(P.jsx)(E.a,{icon:D.e,color:"#04AAFF",size:"2x"})})}),Object(P.jsx)("li",{children:Object(P.jsx)(d.b,{to:"/",children:Object(P.jsx)(E.a,{icon:X.b,color:"#04AAFF",size:"2x"})})})]})})},ie=u.c.div(z||(z=Object(l.a)(["\n  max-width: 890;\n  width: 100%;\n  margin: 0 auto;\n  margin-top: 80;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n"]))),oe=function(e){var n=e.isLoggedIn,t=e.userObj,r=e.refreshUser;return Object(P.jsx)(ie,{children:Object(P.jsxs)(d.a,{children:[n&&Object(P.jsx)(ce,{userObj:t}),Object(P.jsx)(j.c,{children:n?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(j.a,{exact:!0,path:"/",element:Object(P.jsx)(H,{userObj:t})}),Object(P.jsx)(j.a,{exact:!0,path:"/profile",element:Object(P.jsx)(ae,{userObj:t,refreshUser:r})}),Object(P.jsx)(j.a,{exact:!0,path:"/mytweets",element:Object(P.jsx)(ne,{userObj:t})})]}):Object(P.jsx)(j.a,{exact:!0,path:"/",element:Object(P.jsx)(ee,{})})})]})})};var se=function(){var e=Object(a.useState)(!1),n=Object(s.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(null),i=Object(s.a)(c,2),o=i[0],l=i[1];return Object(a.useEffect)((function(){U.onAuthStateChanged((function(e){l(e?{displayName:e.displayName,uid:e.uid,photoURL:e.photoURL,email:e.email.split("@")[0],updateProfile:function(n){return e.updateProfile(n)}}:null),r(!0)}))}),[]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(b,{}),t?Object(P.jsx)(oe,{refreshUser:function(){var e=U.currentUser;l({displayName:e.displayName,uid:e.uid,photoURL:e.photoURL,email:e.email.split("@")[0],updateProfile:function(n){return e.updateProfile(n)}})},isLoggedIn:Boolean(o),userObj:o}):"Initializing,,,"]})};o.a.render(Object(P.jsx)(c.a.StrictMode,{children:Object(P.jsx)(se,{})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.d6d38946.chunk.js.map